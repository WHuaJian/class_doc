# 用户信息文件

> `/etc/passwd`
>
> 服务器的高安全性需要建立合适的等级制度和操作规范
>
> Linux主要通过用户配置文件来查看和修改用户信息

#### 内容：

![image-20200928141323171](.\images\image-20200928141323171.png)

> 可以使用man命令来查看帮助。`man passwd`
>
> 其中第二个字段x代表该用户需要密码登陆。即系统会到shadow文件中去做一次查询匹配操作
>
> 当需要把一个用户变成超级用户就需要把第三个字段改成0。并不是通过改变用户组来实现

#### 内容列解释

![image-20200928141814242](.\images\image-20200928141814242.png)![image-20200928142753755](.\images\image-20200928142753755.png)

> #### 初始组：用户一登陆就立刻拥有这个用户组的相关权限，每个用户的初始组只能有一个。一般就是和这个用户名同名的组名来作为初始组
>
> #### 附加组：用户可以加入多个其他用户组，并拥有这些组的权限。附加组可以有多个
>
> #### 第四个字段的组ID需要匹配group文件来查看所属组

> 第六个字段：即用户登陆后默认跳转的位置
>
> 第七个字段：普通用户为`/bin/bash`,系统用户为`/sbin/nologin`即不能登陆

> 用户真正的密码目前存储再shadow文件中



# 影子文件

> `etc/shadow`
>
> 存放加密后的密码

![image-20200928142101889](.\images\image-20200928142101889.png)

#### 内容列解释

![image-20200928144714866](.\images\image-20200928144714866.png)![image-20200928145228456](.\images\image-20200928145228456.png)

![image-20200928145519128](.\images\image-20200928145519128.png)

> 即使两个用户的密码是一样的，加密后的密文也是不一样的
>
> 注意第三四个字段的时间戳单位都是天，即第四个字段如果值为10代表10天后才能再改密码
>
> 第七个字段如果不写代表密码到期立刻失效，不会有宽限的时间，和写0一样





# 组信息文件

> `/etc/group`

![image-20200928145953340](.\images\image-20200928145953340.png)

#### 内容列解释

![image-20200928150123606](.\images\image-20200928150123606.png)





# 组密码文件

> `/etc/gshadow`

#### 内容列解释

![image-20200928150157944](.\images\image-20200928150157944.png)



# 用户默认值文件

![image-20200928152312871](.\images\image-20200928152312871.png)

> 在使用`useradd`命令时，用户什么都不填时默认的参数设置
>
> GROUP=100在公有系统中才被使用，我们都是私有的
>
> 模板目录就是当用户创建时默认拷贝给用户使用的文件集合

![image-20200928152613871](.\images\image-20200928152613871.png)

> 用户名密码默认设置

> 后面的(数字)指`passwd`中对应的第几列