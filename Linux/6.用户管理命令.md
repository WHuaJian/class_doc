> 中间的一些文件在`用户配置文件`中进行了说明

### `useradd`

#### 功能：添加新用户

#### 格式：useradd [参数] 用户名

#### 参数

- -u：指定用户的UID号
- -d：指定用户的家目录
- -c：指定用户的说明
- -g：指定用户的初始组
- -G：指定用户的附加组
- -s：指定用户的登陆shell。默认为`/bin/bash`

> 默认可以不加任何参数。
>
> 参数修改的值都是改变了用户配置文件中的内容。

> 示例：`useradd -u 550 -G root,bin -d /home/abc -c "test user" -s /bin/bash oneNewUser`



### `passwd`

#### 功能：设置用户密码

#### 格式：passwd  [参数] 用户名

#### 参数

- -S：查询用户密码的密码状态。仅root用户可用
- -l：暂时锁定用户。仅root用户可用
- -u：解锁用户。仅root用户可用
- --stdin：可以通过管道符输出的数据作为用户的密码(用于shell编程中使用)

> 直接使用passwd不指定参数和用户名就是修改当前用户的密码

![image-20200928154731724](.\images\image-20200928154731724.png)

> 基本就是将shadow文件中的信息打印出来

锁定就是在用户的密文前添加两个!字符，让其密码解析出错这样就无法登陆系统

> 示例：passwd -l user1
>
> ​            passwd -u user1
>
> ​            echo "123" |passwd --stdin user1     为user1设置密码为123。多用于shell脚本中



### `usermod`

#### 功能：修改用户信息

#### 格式：usermod [参数] 用户名

#### 参数

- -u：指定用户的UID号 
- -c：指定用户的说明
- -g：指定用户的初始组
- -G：指定用户的附加组

- -L：临时锁定用户
- -U：解锁用户锁定

> 示例：`usermod -u 550 -G root,bin -c "test user" -s /bin/bash oneNewUser`
>
> 与useradd不同的是其针对的是已经存在的用户进行操作



### `chage`

#### 功能：修改用户密码状态

#### 格式：chage [参数] 用户名

#### 参数

- -l：列出用户的详细密码状态
- -d 日期：修改密码最后一次更改日期 （第3个字段）
- -m 天数：两个密码的间隔（第4个字段）
- -M 天数：密码有效期（第5个字段）
- -W 天数：密码过期前警告天数（第6个字段）
- -i(大写) 天数：密码过后宽限天数（第7个字段）
- -E 天数：账号失效时间（第8个字段）

> 就是修改shadow文件中的内容

> 示例：chage -d 0 user1    将密码修改日期归0，这样用户一登陆就要修改密码。用于给新建的用户设置初始密码后强制用户修改密码



### `userdel`

#### 功能：删除用户

#### 格式：userdel [-r] 用户名

#### 参数

- -r：删除用户时同时删除用户家目录



### `su`

#### 功能：切换用户

#### 格式：su [参数] 用户名

#### 参数

- -：代表连带用户的环境变量一起切换 。如果不写，执行`env`命令时会发现里面的配置还是之前用户的
- -c：仅执行命令不切换身份

> #### 示例：su - root    `-`一定要加上
>
> ​              su - root -c "useradd user3"  已root身份执行命令而不切换当前用户

### `id`

#### 功能：查询用户id，组id，有哪些附加组

#### 格式：id 用户名



### `who`

#### 功能：查看用户登陆信息



### `w`

#### 功能：查看用户登陆详细信息

> 可以看到用户登陆的时间，cpu占用总时间(如果卡可以看谁占用的多，然后踢掉它)，最后一次执行的命令



### `groupadd`

#### 功能：添加组

#### 格式：groupadd [选项] 组名

#### 参数

- -g：指定组ID



### `groupmod`

#### 功能：修改组

#### 格式：groupmod [选项] 组名

#### 参数

- -g：指定组ID
- -n 新组名：修改组名

> 示例：groupmod -n testgroup oldgroup
>
> 修改组会导致很多问题，如一些位置需要修改。所以一般都是删除再建新的



### `groupdel`

#### 功能：删除组

#### 格式：groupdel 组名



### `gpasswd`

#### 功能：把用户加入组/从组中删除

#### 格式：gpasswd [参数] 组名

#### 参数

- -a 用户名：把用户加入组
- -d 用户名：把用户从组里删除







