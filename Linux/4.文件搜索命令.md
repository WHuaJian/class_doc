### `find`

#### 功能：文件搜索命令

> 尽量少用因为会占用大量系统资源，通过分类将文件整理清楚

#### 格式：find [搜索范围] [匹配条件]

#### 匹配条件

- -name：根据名称查询
- -iname：根据名称查询，不区分大小写
- -size: 根据文件大小查询。`+`代表大于，`-`代表小于，不写代表等于
- -user:根据文件所属者查询
- -group：根据文件所属组查询
- -amin：根据访问时间查询。+代表超过XX时间，-代表XX时间以内
- -cmin：根据文件属性查询。文件属性即ls中显示的内容，如权限，位置等等。+代表超过XX时间，-代表XX时间以内
- -mmin：根据文件内容查询。即文档内部数据被修改了。+代表超过XX时间，-代表XX时间以内
- -type: 根据文件类型查询。f：文件，d：目录，l：软连接文件
- -inum：根据i节点查询

#### 参数

- -a

> 两个条件同时满足(and)

- -o

> 两个条件满足一个(or)

- #### -exec 

> 对搜索结果进行再处理
>
> 格式：-exec/-ok 命令 ....

> 示例：find /etc -name filename -exec ls -l {} \;
>
> 针对查询结果做ls -l操作。后面的`{} \;`是固定格式
>
> ok执行时会有提示，功能与exec一样。**如果做批量删除操作需要使用-ok**



#### 示例：

- `find /etc -name init`  查找etc目录下查找文件名为init的文件，**精准搜索**
- `find /etc -name *init*`  查找etc目录下查找文件名包含init的文件，**模糊搜索**,通过通配符来实现。`*`匹配多个字符，`？`匹配单个字符
- find /etc -size +204800 查找etc目录下大于100MB的文件

> linux中一个数据块，512字节=0.5K所以 100MB=102400KB=204800数据块

- find /etc -user weng  查找weng所拥有的文件
- find /etc -cmin -5  查询/etc目录下5分钟以内文件属性被修改的文件/目录

- find /etc -size +163840 -a -size -204800   查询文件大小80MB-100MB的文件



### `locate`

#### 功能：文件搜索命令

> 在文件资料库中查询，比find快很多。但可能新建的文件找不到

#### 格式：locate 文件名

#### 参数

- -i

> 查询时文件名不区分大小写



### `updatedb`

#### 功能：更新locate的资料库



### `which`

#### 功能：搜索命令所在目录及别名信息

> 示例：which ls



### `grep`

#### 功能：在文件中搜索字符串匹配的行并输出

#### 格式：grep -iv [查询内容] [文件]

#### 参数

- -i

> 查询时文件名不区分大小写

- -v

> 排除指定字符串

#### 示例

- grep abc /etc/install.log
- grep -v ^#  /etc/install.log  排除行首有#的行。^是键盘6上的符号，代表筛选文件开头。