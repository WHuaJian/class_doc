### 软件包分类

- 源码包，手动安装，安装繁琐。可以通过脚本来简化安装。由于在本机编译(100%契合本机)所以会比二进制包有一定的性能优势
- 二进制包，（RPM包，系统默认包，以.rpm为格式）。已经经过编译。不能看到源码但加快了安装速度



# RPM命令管理

### RPM包命令原则

![image-20200928104352133](.\images\image-20200928104352133.png)

> `i686`,`i286`,`i586`都是指32位系统。而x64则指64位系统

> #### 整个`httpd...rpm`是包全名，在第一次安装时使用。`httpd`是包名，在已经升级时使用



### RPM依赖性

树形依赖：a->b->c

> 安装时需要先装c，再装b，再装a。卸载时需要先卸a，再卸b，再卸c

环形依赖：a->b->c->a

> 一条命令同时安装`abc`可以解决问题

模块依赖查询网站：www.rpmfind.net



#### 安装命令格式：rpm `-ivh` 包全名

#### 参数：

- -`i`：安装
- -v：显示详细信息
- -h：显示进度
- --`nodeps`：不检测依赖性(基本不用，只能实验使用)

> -`ivh`是常用写法

> 安装时需要根据依赖来安装前置的包。rpm是不会处理依赖性问题的



#### 升级命令格式：rpm -`Uvh` 包全名

#### 参数：

- -`U`：升级



#### 卸载命令格式：rpm -e 包名

#### 参数：

- -`e`：卸载

> 注意：这里是包名，不是包全名



## RPM查询命令

> RPM的安装命令不常用，因为要自己解决依赖文件。但查询命令很常用
>
> 即便使用yum命令安装也会使用RPM命令来查询



#### 查询是否安装

#### 命令格式：rpm -`aqi` [包名]

#### 参数：

- -q：查询
- -a：所有即查询所有已经安装的包。不需要带包名

- -`i`：查询软件信息。一般是`-qi`

  

#### 查询未安装的包信息

#### 命令格式：rpm -`qip` [包全名]

#### 参数：

- -p：查询未安装包信息（已下载未安装）



#### 查询软件包安装位置

#### 命令格式：rpm -`ql` [包名]

#### 参数：

- -l：列表



#### 查询文件属于那个RPM包

#### 命令格式：rpm -`qf` [系统文件名]

#### 参数：

- -f：查询系统文件属于哪个软件包

> 即查询包中预置的文件路径与之匹配



#### 查询软件包的依赖性

#### 命令格式：rpm -`qR` [包名]

#### 参数：

- -R：查询软件包的依赖性
- -p：查询未安装包信息（再加上-p比较常用，因为查询这个一般是软件安装前进行）



## RPM包校验

#### 命令格式：rpm -V [已安装的包名]

#### 参数：

- -V：校验指定RPM包中的文件是否被修改

#### 示例

![image-20200928113744869](.\images\image-20200928113744869.png)

#### 验证结果信息

![image-20200928113627644](.\images\image-20200928113627644.png)

#### 文件类型

![image-20200928113846029](.\images\image-20200928113846029.png)

> 示例中的c代表其为配置文件



# Yum命令管理

> 为用户解决安装包依赖的问题

 

## 配置

> yum源的位置：`/etc/yum.repos.d`

#### 配置文件内容

![image-20200928133942657](.\images\image-20200928133942657.png)





## 常用命令

### 列出可用软件包列表

#### 命令格式：yum list



#### 查询包含关键字的安装包

#### 命令格式：yum search 关键字



### 安装

#### 命令格式：yum -y install 包名

#### 参数：

- -y：自动回答yes



### 升级

#### 命令格式：yum -y update 包名

#### 参数：

- -y：自动回答yes

> 如果不写包名会升级所有软件包命令(包括内核)，会导致系统无法启动



### 卸载

#### 命令格式：yum -y remove 包名

#### 参数：

- -y：自动回答yes

> 用什么装什么，装完一般不要卸载，很容易导致系统崩溃